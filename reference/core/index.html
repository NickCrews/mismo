
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://nickcrews.github.io/mismo/reference/core/">
      
      
        <link rel="prev" href="../../concepts/versioning/">
      
      
        <link rel="next" href="../eda/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.16">
    
    
      
        <title>Core API - Mismo</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#core-api" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Mismo" class="md-header__button md-logo" aria-label="Mismo" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Mismo
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Core API
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/nickcrews/mismo/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../examples/patent_deduplication/" class="md-tabs__link">
          
  
  
    
  
  Examples

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../concepts/goals_and_alternatives/" class="md-tabs__link">
          
  
  
    
  
  Concepts

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="./" class="md-tabs__link">
          
  
  
    
  
  Reference

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../contributing/" class="md-tabs__link">
        
  
  
    
  
  Contribute

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Mismo" class="md-nav__button md-logo" aria-label="Mismo" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Mismo
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/nickcrews/mismo/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Examples
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/patent_deduplication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Patent Deduplication
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Concepts
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Concepts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/goals_and_alternatives/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Goals and Alternatives
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/fs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Fellegi-Sunter Model
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/versioning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Versioning Policy
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Core API
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Core API
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#core-types" class="md-nav__link">
    <span class="md-ellipsis">
      Core Types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Core Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mismo.Linkage" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Linkage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mismo.LinkedTable" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;LinkedTable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mismo.LinksTable" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;LinksTable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mismo.CountsTable" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;CountsTable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mismo.UnionTable" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;UnionTable
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#linkers" class="md-nav__link">
    <span class="md-ellipsis">
      Linkers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Linkers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mismo.Linker" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Linker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mismo.FullLinker" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FullLinker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mismo.EmptyLinker" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;EmptyLinker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mismo.JoinLinker" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;JoinLinker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mismo.KeyLinker" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;KeyLinker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mismo.KeyLinker.key_counts_left" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;key_counts_left
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mismo.KeyLinker.key_counts_right" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;key_counts_right
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mismo.OrLinker" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;OrLinker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mismo.linkage.sample_all_links" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;sample_all_links
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comparing-tables" class="md-nav__link">
    <span class="md-ellipsis">
      Comparing tables
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Comparing tables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mismo.Updates" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Updates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mismo.Diff" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Diff
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mismo.DiffStats" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;DiffStats
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mismo.LinkCountsTable" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;LinkCountsTable
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    By Task
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            By Task
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../eda/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    EDA
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../join/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Joining
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_3" >
        
          
          <label class="md-nav__link" for="__nav_4_2_3" id="__nav_4_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Comparing
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2_3">
            <span class="md-nav__icon md-icon"></span>
            Comparing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../compare/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Comparing API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Fellegi-Sunter
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cluster/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Clustering
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../datasets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Datasets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../playdata/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Play Data
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    By Data Type
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            By Data Type
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../text/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Text Utils
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../arrays/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Array Utils
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Set Utils
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vectors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Vector Utils
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    By Domain
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            By Domain
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lib/geo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Geospatial
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lib/name/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Human Names
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lib/email/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Emails
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lib/phone/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Phones
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../exceptions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Exceptions
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contribute
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#core-types" class="md-nav__link">
    <span class="md-ellipsis">
      Core Types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Core Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mismo.Linkage" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Linkage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mismo.LinkedTable" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;LinkedTable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mismo.LinksTable" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;LinksTable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mismo.CountsTable" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;CountsTable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mismo.UnionTable" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;UnionTable
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#linkers" class="md-nav__link">
    <span class="md-ellipsis">
      Linkers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Linkers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mismo.Linker" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Linker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mismo.FullLinker" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FullLinker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mismo.EmptyLinker" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;EmptyLinker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mismo.JoinLinker" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;JoinLinker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mismo.KeyLinker" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;KeyLinker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mismo.KeyLinker.key_counts_left" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;key_counts_left
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mismo.KeyLinker.key_counts_right" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;key_counts_right
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mismo.OrLinker" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;OrLinker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mismo.linkage.sample_all_links" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;sample_all_links
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comparing-tables" class="md-nav__link">
    <span class="md-ellipsis">
      Comparing tables
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Comparing tables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mismo.Updates" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Updates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mismo.Diff" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Diff
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mismo.DiffStats" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;DiffStats
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mismo.LinkCountsTable" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;LinkCountsTable
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="core-api">Core API</h1>
<p>Types, functions, etc that are core to mismo and are used throughout the rest
of the framework</p>
<h2 id="core-types">Core Types</h2>


<div class="doc doc-object doc-class">



<h3 id="mismo.Linkage" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">mismo.Linkage</span>


</h3>


    <div class="doc doc-contents first">


        <p>A dataclass of two Tables of records (<a class="autorefs autorefs-internal" title="            mismo.LinkedTable" href="#mismo.LinkedTable">LinkedTables</a>) and a Table of links (<a class="autorefs autorefs-internal" title="            mismo.LinksTable" href="#mismo.LinksTable">LinksTable</a>) between them.</p>
<p>Each record in <code>left</code> can be linked from 0 to N records in <code>right</code>, and vice versa.</p>


<details class="see-also" open>
  <summary>See Also</summary>
  <p>The <a class="autorefs autorefs-internal" title="            mismo.Diff" href="#mismo.Diff">Diff</a> dataclass, for representing the special case
where each record is linked to at most one other record.</p>
</details>









  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="mismo.Linkage.left" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">mismo.Linkage.left</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">left</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            mismo.LinkedTable (mismo.types._linked_table.LinkedTable)" href="#mismo.LinkedTable">LinkedTable</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>The left Table.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="mismo.Linkage.links" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">mismo.Linkage.links</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">links</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            mismo.LinksTable (mismo.types._links_table.LinksTable)" href="#mismo.LinksTable">LinksTable</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>A table of (record_id_l, record_id_r, <other attributes>...) that link <code>left</code> and <code>right</code>.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="mismo.Linkage.right" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">mismo.Linkage.right</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">right</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            mismo.LinkedTable (mismo.types._linked_table.LinkedTable)" href="#mismo.LinkedTable">LinkedTable</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>The right Table.</p>

    </div>

</div>



<div class="doc doc-object doc-function">


<h4 id="mismo.Linkage.__init__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.Linkage.__init__</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">__init__</span><span class="p">(</span>
    <span class="o">*</span><span class="p">,</span> <span class="n">left</span><span class="p">:</span> <span class="n"><span title="ibis.Table">Table</span></span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="n"><span title="ibis.Table">Table</span></span><span class="p">,</span> <span class="n">links</span><span class="p">:</span> <span class="n"><span title="ibis.Table">Table</span></span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Create from two Tables and a Table of links between them.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>left</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>A Table of records, with at least a column 'record_id'.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="ibis.Table">Table</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>right</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>A Table of records, with at least a     column 'record_id'.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="ibis.Table">Table</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>links</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>A Table of links between the two tables.
Must have columns 'record_id_l' and 'record_id_r', which refer to the
'record_id' columns in <code>left</code> and <code>right</code>, respectively.
May have other columns.
May not have duplicate (record_id_l, record_id_r) pairs.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="ibis.Table">Table</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="mismo.Linkage.cache" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.Linkage.cache</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">cache</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="mismo._typing.Self">Self</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Cache left, right, and links for faster subsequent access.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="mismo.Linkage.copy" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.Linkage.copy</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">copy</span><span class="p">(</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">left</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            mismo.LinkedTable (mismo.types._linked_table.LinkedTable)" href="#mismo.LinkedTable">LinkedTable</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">right</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            mismo.LinkedTable (mismo.types._linked_table.LinkedTable)" href="#mismo.LinkedTable">LinkedTable</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">links</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            mismo.LinksTable (mismo.types._links_table.LinksTable)" href="#mismo.LinksTable">LinksTable</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="            mismo.Linkage (mismo.linkage._linkage.Linkage)" href="#mismo.Linkage">Linkage</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Create a new Linkage, optionally replacing the left, right, and links tables.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="mismo.Linkage.from_join_condition" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.Linkage.from_join_condition</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">from_join_condition</span><span class="p">(</span>
    <span class="n">left</span><span class="p">:</span> <span class="n"><span title="ibis.Table">Table</span></span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="n"><span title="ibis.Table">Table</span></span><span class="p">,</span> <span class="n">condition</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="mismo._typing.Self">Self</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Create a Linkage from two Tables and a join condition.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>left</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>A Table of records, with at least a column 'record_id'.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="ibis.Table">Table</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>right</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>A Table of records, with at least a column 'record_id'.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="ibis.Table">Table</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>condition</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>A join condition, such as a boolean expression or an ibis expression.
See <a class="autorefs autorefs-internal" title="            mismo.join_condition" href="../join/#mismo.join_condition">mismo.join_condition</a> for more details.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code>    A Linkage object.</code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="mismo.Linkage.from_parquets" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.Linkage.from_parquets</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">from_parquets</span><span class="p">(</span>
    <span class="n">directory</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a></span><span class="p">,</span>
    <span class="o">/</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">backend</span><span class="p">:</span> <span class="n"><span title="ibis.BaseBackend">BaseBackend</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="mismo._typing.Self">Self</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Create a Linkage by reading parquets from the given directory.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="mismo.Linkage.link_counts_chart" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.Linkage.link_counts_chart</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">link_counts_chart</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="altair.Chart">Chart</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>A side by side altair Chart of <code>left.link_counts().chart()</code> and <code>right.link_counts().chart()</code>.</p>
<div class="highlight"><pre><span></span><code>Number of           Left Table               Number of    Right Table
  Records                                      Records
        |    █                                       |    █
100,000 | █  █                                       |    █
        | █  █                                10,000 |    █
        | █  █  █                                    |    █
 10,000 | █  █  █                                    |    █  █
        | █  █  █                                    | █  █  █
        | █  █  █                              1,000 | █  █  █
  1,000 | █  █  █  █                                 | █  █  █
        | █  █  █  █  █  █                           | █  █  █
        | █  █  █  █  █  █  █                        | █  █  █  █
    100 | █  █  █  █  █  █  █  █  █              100 | █  █  █  █
        | 0  1  2  3  4 10 12 14 23                  | 0  1  2  3
        Number of Links                              Number of Links
</code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="mismo.Linkage.to_parquets" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.Linkage.to_parquets</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">to_parquets</span><span class="p">(</span>
    <span class="n">directory</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a></span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">overwrite</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Write left, right, and links to parquet files in the given directory.</p>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="mismo.LinkedTable" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">mismo.LinkedTable</span>


</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="mismo.types._table_wrapper.TableWrapper">TableWrapper</span></code></p>


        <p>A table of records that are linked to another table.</p>
<p>Each record here can be linked to 0-N records in the <code>other_</code>.</p>
<p>This acts just like an Ibis Table, but it has a few extra attributes
and methods that make it more ergonomic to work with,
eg to add data from the linked table.</p>










  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="mismo.LinkedTable.links_" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">mismo.LinkedTable.links_</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">links_</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            mismo.LinksTable (mismo.types._links_table.LinksTable)" href="#mismo.LinksTable">LinksTable</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>The table of links between this table and <code>other</code>.</p>
<p>Trailing underscore to avoid name conflicts with column names.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="mismo.LinkedTable.other_" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">mismo.LinkedTable.other_</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">other_</span><span class="p">:</span> <span class="n"><span title="mismo._typing.Self">Self</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>The other table that this table is linked to.</p>
<p>Trailing underscore to avoid name conflicts with column names.</p>

    </div>

</div>



<div class="doc doc-object doc-function">


<h4 id="mismo.LinkedTable.link_counts" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.LinkedTable.link_counts</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">link_counts</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="            mismo.LinkCountsTable (mismo.types._linked_table.LinkCountsTable)" href="#mismo.LinkCountsTable">LinkCountsTable</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Describes 'There are <code>n_records</code> in self that linked to <code>n_links</code> in `other'.</p>
<p>This is basically a histogram of <code>self.with_n_links()</code></p>


<details class="see-also" open>
  <summary>See Also</summary>
  <p>with_n_links</p>
</details>

<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">ibis</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">mismo</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibis</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">interactive</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">left</span> <span class="o">=</span> <span class="n">ibis</span><span class="o">.</span><span class="n">memtable</span><span class="p">({</span><span class="s2">&quot;record_id&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">right</span> <span class="o">=</span> <span class="n">ibis</span><span class="o">.</span><span class="n">memtable</span><span class="p">({</span><span class="s2">&quot;record_id&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">links</span> <span class="o">=</span> <span class="n">ibis</span><span class="o">.</span><span class="n">memtable</span><span class="p">({</span><span class="s2">&quot;record_id_l&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="s2">&quot;record_id_r&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">linkage</span> <span class="o">=</span> <span class="n">mismo</span><span class="o">.</span><span class="n">Linkage</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="n">right</span><span class="p">,</span> <span class="n">links</span><span class="o">=</span><span class="n">links</span><span class="p">)</span>
</code></pre></div>
    <p>There is 1 record in left (6) that didn't match any in right.
There is 1 record in left (5) that matched 1 in right.
There is 1 record in left (4) that matched 2 in right.</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">linkage</span><span class="o">.</span><span class="n">left</span><span class="o">.</span><span class="n">link_counts</span><span class="p">()</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s2">&quot;n_links&quot;</span><span class="p">)</span>
<span class="go">┏━━━━━━━━━┳━━━━━━━━━━━┓</span>
<span class="go">┃ n_links ┃ n_records ┃</span>
<span class="go">┡━━━━━━━━━╇━━━━━━━━━━━┩</span>
<span class="go">│ int64   │ int64     │</span>
<span class="go">├─────────┼───────────┤</span>
<span class="go">│       0 │         1 │</span>
<span class="go">│       1 │         1 │</span>
<span class="go">│       2 │         1 │</span>
<span class="go">└─────────┴───────────┘</span>
</code></pre></div>
    <p>All 3 records in right matched 1 in left.</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">linkage</span><span class="o">.</span><span class="n">right</span><span class="o">.</span><span class="n">link_counts</span><span class="p">()</span>
<span class="go">┏━━━━━━━━━┳━━━━━━━━━━━┓</span>
<span class="go">┃ n_links ┃ n_records ┃</span>
<span class="go">┡━━━━━━━━━╇━━━━━━━━━━━┩</span>
<span class="go">│ int64   │ int64     │</span>
<span class="go">├─────────┼───────────┤</span>
<span class="go">│       1 │         3 │</span>
<span class="go">└─────────┴───────────┘</span>
</code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="mismo.LinkedTable.make_pair" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.LinkedTable.make_pair</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">make_pair</span><span class="p">(</span>
    <span class="o">*</span><span class="p">,</span> <span class="n">left</span><span class="p">:</span> <span class="n"><span title="ibis.expr.types.Table">Table</span></span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="n"><span title="ibis.expr.types.Table">Table</span></span><span class="p">,</span> <span class="n">links</span><span class="p">:</span> <span class="n"><span title="ibis.expr.types.Table">Table</span></span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a></span><span class="p">[</span><span class="n"><span title="mismo._typing.Self">Self</span></span><span class="p">,</span> <span class="n"><span title="mismo._typing.Self">Self</span></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Create a pair of LinkedTables from left, right, and links.</p>
<p>This basically just wraps the logic to make it so that
the the _l and _r suffixes in the links table are consistent.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="mismo.LinkedTable.with_linked_values" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.LinkedTable.with_linked_values</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">with_linked_values</span><span class="p">(</span>
    <span class="o">*</span><span class="n">values</span><span class="p">:</span> <span class="n"><span title="ibis.Deferred">Deferred</span></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3/library/typing.html#typing.Callable">Callable</a></span><span class="p">[[</span><span class="n"><span title="ibis.Table">Table</span></span><span class="p">],</span> <span class="n"><span title="ibis.expr.types.Value">Value</span></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">default_agg</span><span class="p">:</span> <span class="n"><span title="ibis.Deferred">Deferred</span></span> <span class="o">=</span> <span class="n"><span title="ibis._.collect">collect</span></span><span class="p">(),</span>
    <span class="o">**</span><span class="n">named_values</span><span class="p">:</span> <span class="n"><span title="ibis.Deferred">Deferred</span></span>
    <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3/library/typing.html#typing.Callable">Callable</a></span><span class="p">[[</span><span class="n"><span title="ibis.Table">Table</span></span><span class="p">],</span> <span class="n"><span title="ibis.expr.types.Value">Value</span></span><span class="p">]</span>
    <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="mismo._typing.Self">Self</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>This table, with values from the linked records.</p>
<p>See the examples below, this is easy to understand with examples,
but hard to describe.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>values</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>unnamed values</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="ibis.Deferred">Deferred</span> | <a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3/library/typing.html#typing.Callable">Callable</a>[[<span title="ibis.Table">Table</span>], <span title="ibis.expr.types.Value">Value</span>] | None</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>()</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>named_values</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>named values</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="ibis.Deferred">Deferred</span> | <a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3/library/typing.html#typing.Callable">Callable</a>[[<span title="ibis.Table">Table</span>], <span title="ibis.expr.types.Value">Value</span>] | None</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>{}</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code>A new LinkedTable with new columns of values from the linked records.</code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">ibis</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibis</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">interactive</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">this</span> <span class="o">=</span> <span class="n">ibis</span><span class="o">.</span><span class="n">memtable</span><span class="p">({</span><span class="s2">&quot;record_id&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">],</span> <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">other</span> <span class="o">=</span> <span class="n">ibis</span><span class="o">.</span><span class="n">memtable</span><span class="p">({</span><span class="s2">&quot;record_id&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">41</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">51</span><span class="p">],</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">4.1</span><span class="p">,</span> <span class="mf">4.2</span><span class="p">,</span> <span class="mf">9.0</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">links</span> <span class="o">=</span> <span class="n">ibis</span><span class="o">.</span><span class="n">memtable</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">{</span><span class="s2">&quot;record_id_l&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">],</span> <span class="s2">&quot;record_id_r&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">41</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">51</span><span class="p">]}</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lt</span> <span class="o">=</span> <span class="n">LinkedTable</span><span class="p">(</span><span class="n">this</span><span class="p">,</span> <span class="n">other</span><span class="o">=</span><span class="n">other</span><span class="p">,</span> <span class="n">links</span><span class="o">=</span><span class="n">links</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lt</span>
<span class="go">LinkedTable&lt;3 records, 3 links&gt;</span>
<span class="go">┏━━━━━━━━━━━┳━━━━━━━━┓</span>
<span class="go">┃ record_id ┃ x      ┃</span>
<span class="go">┡━━━━━━━━━━━╇━━━━━━━━┩</span>
<span class="go">│ int64     │ string │</span>
<span class="go">├───────────┼────────┤</span>
<span class="go">│        40 │ a      │</span>
<span class="go">│        50 │ b      │</span>
<span class="go">│        60 │ c      │</span>
<span class="go">└───────────┴────────┘</span>
</code></pre></div>
    <p>Select exactly which values you want from <code>other</code>
Since every record in <code>self</code> can be linked to 0-N records in <code>other</code>,
we need a way of aggregating the 0-N linked values in <code>other</code> to a single value.
By default, if the given expression is not an aggregate,
we default to <code>.collect()</code> to combine them all into an array.
If the given expression is already an aggregate, then it is kept as-is.</p>
<p>This uses the same semantics as <code>ibis.Table.select(*values, **named_values)</code>.</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">lt</span><span class="o">.</span><span class="n">with_linked_values</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;y&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">ibis</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="s2">&quot;y_max&quot;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">others</span><span class="o">=</span><span class="s2">&quot;record_id&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">other</span><span class="o">=</span><span class="n">ibis</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">record_id</span><span class="o">.</span><span class="n">arbitrary</span><span class="p">(),</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">LinkedTable&lt;3 records, 3 links&gt;</span>
<span class="go">┏━━━━━━━━━━━┳━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━┓</span>
<span class="go">┃ record_id ┃ x      ┃ y                    ┃ y_max   ┃ others               ┃ other ┃</span>
<span class="go">┡━━━━━━━━━━━╇━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━┩</span>
<span class="go">│ int64     │ string │ array&lt;float64&gt;       │ float64 │ array&lt;int64&gt;         │ int64 │</span>
<span class="go">├───────────┼────────┼──────────────────────┼─────────┼──────────────────────┼───────┤</span>
<span class="go">│        40 │ a      │ [4.1, 4.2]           │     4.2 │ [41, 42]             │    41 │</span>
<span class="go">│        50 │ b      │ [9.0]                │     9.0 │ [51]                 │    51 │</span>
<span class="go">│        60 │ c      │ NULL                 │    NULL │ NULL                 │  NULL │</span>
<span class="go">└───────────┴────────┴──────────────────────┴─────────┴──────────────────────┴───────┘</span>
</code></pre></div>
    <p>One common use case for this is during the task of a lookup.
I want to see the record id of the linked record,
exluding when there are no links and when there are multiple (ie ambiguous) links.</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">lt</span><span class="o">.</span><span class="n">with_n_links</span><span class="p">()</span><span class="o">.</span><span class="n">with_linked_values</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">ibis</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">record_id</span><span class="o">.</span><span class="n">arbitrary</span><span class="p">()</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="s2">&quot;record_id_other&quot;</span><span class="p">),</span>
<span class="gp">... </span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">ibis</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">n_links</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">┏━━━━━━━━━━━┳━━━━━━━━┳━━━━━━━━━┳━━━━━━━━━━━━━━━━━┓</span>
<span class="go">┃ record_id ┃ x      ┃ n_links ┃ record_id_other ┃</span>
<span class="go">┡━━━━━━━━━━━╇━━━━━━━━╇━━━━━━━━━╇━━━━━━━━━━━━━━━━━┩</span>
<span class="go">│ int64     │ string │ int64   │ int64           │</span>
<span class="go">├───────────┼────────┼─────────┼─────────────────┤</span>
<span class="go">│        50 │ b      │       1 │              51 │</span>
<span class="go">└───────────┴────────┴─────────┴─────────────────┘</span>
</code></pre></div>
    <p>If no values are provided, we will by default add a column named <code>other</code>
with all the values from other packed into an array of structs.</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">lt</span><span class="o">.</span><span class="n">with_linked_values</span><span class="p">()</span>
<span class="go">LinkedTable&lt;3 records, 3 links&gt;</span>
<span class="go">┏━━━━━━━━━━━┳━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓</span>
<span class="go">┃ record_id ┃ x      ┃ other                                                      ┃</span>
<span class="go">┡━━━━━━━━━━━╇━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┩</span>
<span class="go">│ int64     │ string │ array&lt;struct&lt;record_id: int64, y: float64&gt;&gt;                │</span>
<span class="go">├───────────┼────────┼────────────────────────────────────────────────────────────┤</span>
<span class="go">│        40 │ a      │ [{&#39;record_id&#39;: 41, &#39;y&#39;: 4.1}, {&#39;record_id&#39;: 42, &#39;y&#39;: 4.2}] │</span>
<span class="go">│        50 │ b      │ [{&#39;record_id&#39;: 51, &#39;y&#39;: 9.0}]                              │</span>
<span class="go">│        60 │ c      │ NULL                                                       │</span>
<span class="go">└───────────┴────────┴────────────────────────────────────────────────────────────┘</span>
</code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="mismo.LinkedTable.with_n_links" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.LinkedTable.with_n_links</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">with_n_links</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span> <span class="o">=</span> <span class="s1">&#39;n_links&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="mismo._typing.Self">Self</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Add a column to this table with the number of links each record has.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>name</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The name of the new column.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>&#39;n_links&#39;</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code>A new LinkedTable with the new column.</code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">ibis</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">mismo</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibis</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">interactive</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">left</span> <span class="o">=</span> <span class="n">ibis</span><span class="o">.</span><span class="n">memtable</span><span class="p">({</span><span class="s2">&quot;record_id&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">right</span> <span class="o">=</span> <span class="n">ibis</span><span class="o">.</span><span class="n">memtable</span><span class="p">({</span><span class="s2">&quot;record_id&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">links</span> <span class="o">=</span> <span class="n">ibis</span><span class="o">.</span><span class="n">memtable</span><span class="p">({</span><span class="s2">&quot;record_id_l&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="s2">&quot;record_id_r&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">linkage</span> <span class="o">=</span> <span class="n">mismo</span><span class="o">.</span><span class="n">Linkage</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="n">right</span><span class="p">,</span> <span class="n">links</span><span class="o">=</span><span class="n">links</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">linkage</span><span class="o">.</span><span class="n">left</span><span class="o">.</span><span class="n">with_n_links</span><span class="p">()</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s2">&quot;record_id&quot;</span><span class="p">)</span>
<span class="go">┏━━━━━━━━━━━┳━━━━━━━━━┓</span>
<span class="go">┃ record_id ┃ n_links ┃</span>
<span class="go">┡━━━━━━━━━━━╇━━━━━━━━━┩</span>
<span class="go">│ int64     │ int64   │</span>
<span class="go">├───────────┼─────────┤</span>
<span class="go">│         4 │       2 │</span>
<span class="go">│         5 │       1 │</span>
<span class="go">│         6 │       0 │</span>
<span class="go">└───────────┴─────────┘</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">linkage</span><span class="o">.</span><span class="n">right</span><span class="o">.</span><span class="n">with_n_links</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;link_count&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s2">&quot;record_id&quot;</span><span class="p">)</span>
<span class="go">┏━━━━━━━━━━━┳━━━━━━━━━━━━┓</span>
<span class="go">┃ record_id ┃ link_count ┃</span>
<span class="go">┡━━━━━━━━━━━╇━━━━━━━━━━━━┩</span>
<span class="go">│ int64     │ int64      │</span>
<span class="go">├───────────┼────────────┤</span>
<span class="go">│         7 │          1 │</span>
<span class="go">│         8 │          1 │</span>
<span class="go">│         9 │          1 │</span>
<span class="go">└───────────┴────────────┘</span>
</code></pre></div>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="mismo.LinksTable" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">mismo.LinksTable</span>


</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="mismo.types._table_wrapper.TableWrapper">TableWrapper</span></code></p>


        <p>A table of links between two tables.</p>
<p>This acts like an ibis table, guaranteed to have at least the
columns record_id_l and record_id_r.
It may have more columns, such as <code>address_match_level</code>,
that describe the relationship between two records.</p>
<p>In addition to the columns, this table has two properties, <code>left_</code> and <code>right_</code>,
each of which is a <a class="autorefs autorefs-internal" title="            mismo.LinkedTable" href="#mismo.LinkedTable">LinkedTable</a> object,
which is a wrapper around the left and right tables respectively.</p>










  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="mismo.LinksTable.left" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">mismo.LinksTable.left</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">left</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            mismo.LinkedTable (mismo.types._linked_table.LinkedTable)" href="#mismo.LinkedTable">LinkedTable</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>The left table.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="mismo.LinksTable.record_id_l" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">mismo.LinksTable.record_id_l</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">record_id_l</span><span class="p">:</span> <span class="n"><span title="ibis.Column">Column</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>The record_id of the left table.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="mismo.LinksTable.record_id_r" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">mismo.LinksTable.record_id_r</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">record_id_r</span><span class="p">:</span> <span class="n"><span title="ibis.Column">Column</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>The record_id of the right table.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="mismo.LinksTable.right" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">mismo.LinksTable.right</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">right</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            mismo.LinkedTable (mismo.types._linked_table.LinkedTable)" href="#mismo.LinkedTable">LinkedTable</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>The right table.</p>

    </div>

</div>



<div class="doc doc-object doc-function">


<h4 id="mismo.LinksTable.cache" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.LinksTable.cache</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">cache</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="            mismo.LinksTable (mismo.types._links_table.LinksTable)" href="#mismo.LinksTable">LinksTable</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Cache the links table.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="mismo.LinksTable.with_both" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.LinksTable.with_both</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">with_both</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="            mismo.LinksTable (mismo.types._links_table.LinksTable)" href="#mismo.LinksTable">LinksTable</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Add all columns from <code>left</code> and <code>right</code> with suffixes <code>_l</code> and <code>_r</code></p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="mismo.LinksTable.with_left" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.LinksTable.with_left</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">with_left</span><span class="p">(</span>
    <span class="o">*</span><span class="n">values</span><span class="p">:</span> <span class="n"><span title="ibis.Deferred">Deferred</span></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3/library/typing.html#typing.Callable">Callable</a></span><span class="p">[[</span><span class="n"><span title="ibis.Table">Table</span></span><span class="p">],</span> <span class="n"><span title="ibis.Value">Value</span></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">named_values</span><span class="p">:</span> <span class="n"><span title="ibis.Deferred">Deferred</span></span>
    <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3/library/typing.html#typing.Callable">Callable</a></span><span class="p">[[</span><span class="n"><span title="ibis.Table">Table</span></span><span class="p">],</span> <span class="n"><span title="ibis.Value">Value</span></span><span class="p">]</span>
    <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="            mismo.LinksTable (mismo.types._links_table.LinksTable)" href="#mismo.LinksTable">LinksTable</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Add columns from the left table to this table of links.</p>
<p>This allows you to add specific columns from the left table,
renaming or modifying them as needed, following the <code>ibis.Table</code> pattern of
<code>my_table.select("my_col", new_col=my_table.foo)</code>,
except here we choose from the left table.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>values</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The columns to add from the left table.
Support string names, Deferreds, etc, just like <code>ibis.Table.select</code>.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="ibis.Deferred">Deferred</span> | <a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3/library/typing.html#typing.Callable">Callable</a>[[<span title="ibis.Table">Table</span>], <span title="ibis.Value">Value</span>] | None</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>()</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>named_values</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Like values, but with names, just like <code>ibis.Table.select</code>.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="ibis.Deferred">Deferred</span> | <a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3/library/typing.html#typing.Callable">Callable</a>[[<span title="ibis.Table">Table</span>], <span title="ibis.Value">Value</span>] | None</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>{}</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">ibis</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">interactive</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">left</span> <span class="o">=</span> <span class="n">ibis</span><span class="o">.</span><span class="n">memtable</span><span class="p">({</span><span class="s2">&quot;record_id&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s2">&quot;address&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">right</span> <span class="o">=</span> <span class="n">ibis</span><span class="o">.</span><span class="n">memtable</span><span class="p">({</span><span class="s2">&quot;record_id&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="s2">&quot;address&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">links_raw</span> <span class="o">=</span> <span class="n">ibis</span><span class="o">.</span><span class="n">memtable</span><span class="p">({</span><span class="s2">&quot;record_id_l&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s2">&quot;record_id_r&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">links</span> <span class="o">=</span> <span class="n">LinksTable</span><span class="p">(</span><span class="n">links_raw</span><span class="p">,</span> <span class="n">left</span><span class="o">=</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="n">right</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">links</span><span class="o">.</span><span class="n">with_left</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;address&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">ibis</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">address</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="s2">&quot;address_upper&quot;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">left_address</span><span class="o">=</span><span class="n">ibis</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">address</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">┏━━━━━━━━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━━━┳━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━┓</span>
<span class="go">┃ record_id_l ┃ record_id_r ┃ address ┃ address_upper ┃ left_address ┃</span>
<span class="go">┡━━━━━━━━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━━━╇━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━┩</span>
<span class="go">│ int64       │ int64       │ string  │ string        │ string       │</span>
<span class="go">├─────────────┼─────────────┼─────────┼───────────────┼──────────────┤</span>
<span class="go">│           1 │           8 │ a       │ A             │ a            │</span>
<span class="go">│           3 │           9 │ c       │ C             │ c            │</span>
<span class="go">└─────────────┴─────────────┴─────────┴───────────────┴──────────────┘</span>
</code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="mismo.LinksTable.with_right" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.LinksTable.with_right</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">with_right</span><span class="p">(</span>
    <span class="o">*</span><span class="n">values</span><span class="p">:</span> <span class="n"><span title="ibis.Deferred">Deferred</span></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3/library/typing.html#typing.Callable">Callable</a></span><span class="p">[[</span><span class="n"><span title="ibis.Table">Table</span></span><span class="p">],</span> <span class="n"><span title="ibis.Value">Value</span></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">named_values</span><span class="p">:</span> <span class="n"><span title="ibis.Deferred">Deferred</span></span>
    <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3/library/typing.html#typing.Callable">Callable</a></span><span class="p">[[</span><span class="n"><span title="ibis.Table">Table</span></span><span class="p">],</span> <span class="n"><span title="ibis.Value">Value</span></span><span class="p">]</span>
    <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="            mismo.LinksTable (mismo.types._links_table.LinksTable)" href="#mismo.LinksTable">LinksTable</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Add columns from the right table to this table of links.</p>
<p>This allows you to add specific columns from the right table,
renaming or modifying them as needed, following the <code>ibis.Table</code> pattern of
<code>my_table.select("my_col", new_col=my_table.foo)</code>,
except here we choose from the right table.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>values</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The columns to add from the right table.
Support string names, Deferreds, etc, just like <code>ibis.Table.select</code>.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="ibis.Deferred">Deferred</span> | <a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3/library/typing.html#typing.Callable">Callable</a>[[<span title="ibis.Table">Table</span>], <span title="ibis.Value">Value</span>] | None</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>()</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>named_values</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Like values, but with names, just like <code>ibis.Table.select</code>.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="ibis.Deferred">Deferred</span> | <a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3/library/typing.html#typing.Callable">Callable</a>[[<span title="ibis.Table">Table</span>], <span title="ibis.Value">Value</span>] | None</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>{}</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">ibis</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">interactive</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">left</span> <span class="o">=</span> <span class="n">ibis</span><span class="o">.</span><span class="n">memtable</span><span class="p">({</span><span class="s2">&quot;record_id&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s2">&quot;address&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">right</span> <span class="o">=</span> <span class="n">ibis</span><span class="o">.</span><span class="n">memtable</span><span class="p">({</span><span class="s2">&quot;record_id&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="s2">&quot;address&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">links_raw</span> <span class="o">=</span> <span class="n">ibis</span><span class="o">.</span><span class="n">memtable</span><span class="p">({</span><span class="s2">&quot;record_id_l&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s2">&quot;record_id_r&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">links</span> <span class="o">=</span> <span class="n">LinksTable</span><span class="p">(</span><span class="n">links_raw</span><span class="p">,</span> <span class="n">left</span><span class="o">=</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="n">right</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">links</span><span class="o">.</span><span class="n">with_right</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;address&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">ibis</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">address</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="s2">&quot;address_upper&quot;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">right_address</span><span class="o">=</span><span class="n">ibis</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">address</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">┏━━━━━━━━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━━━┳━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━┓</span>
<span class="go">┃ record_id_l ┃ record_id_r ┃ address ┃ address_upper ┃ right_address ┃</span>
<span class="go">┡━━━━━━━━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━━━╇━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━┩</span>
<span class="go">│ int64       │ int64       │ string  │ string        │ string        │</span>
<span class="go">├─────────────┼─────────────┼─────────┼───────────────┼───────────────┤</span>
<span class="go">│           1 │           8 │ x       │ X             │ x             │</span>
<span class="go">│           3 │           9 │ y       │ Y             │ y             │</span>
<span class="go">└─────────────┴─────────────┴─────────┴───────────────┴───────────────┘</span>
</code></pre></div>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="mismo.CountsTable" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">mismo.CountsTable</span>


</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="mismo.types._table_wrapper.TableWrapper">TableWrapper</span></code></p>


        <p>A table with at least an Integer column named <code>n</code>.</p>
<p>There will also be variable number of other columns that act as identifiers.</p>
<p>You won't create this directly, it will be returned to you
from eg <a class="autorefs autorefs-internal" title="            mismo.KeyLinker.key_counts_left" href="#mismo.KeyLinker.key_counts_left">KeyLinker.key_counts_left</a>,
<a class="autorefs autorefs-internal" title="            mismo.KeyLinker.key_counts_right" href="#mismo.KeyLinker.key_counts_right">KeyLinker.key_counts_right</a>,
or <a class="autorefs autorefs-internal" title="            mismo.KeyLinker.pair_counts" href="#mismo.KeyLinker.pair_counts">KeyLinker.pair_counts</a>.</p>










  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="mismo.CountsTable.n" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">mismo.CountsTable.n</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">n</span><span class="p">:</span> <span class="n"><span title="ibis.expr.types.IntegerColumn">IntegerColumn</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>The column containing the count.</p>

    </div>

</div>



<div class="doc doc-object doc-function">


<h4 id="mismo.CountsTable.n_total" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.CountsTable.n_total</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-cached"><code>cached</code></small>
  </span>

</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">n_total</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>n.sum().fill_null(0), just here for convenience.</p>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="mismo.UnionTable" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">mismo.UnionTable</span>


</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="mismo.types._table_wrapper.TableWrapper">TableWrapper</span></code></p>


        <p>A Table whose rows are the non-unique union of the rows from all sub-Tables.</p>










  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="mismo.UnionTable.tables" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">mismo.UnionTable.tables</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">tables</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a></span><span class="p">[</span><span class="n"><span title="ibis.Table">Table</span></span><span class="p">,</span> <span class="o">...</span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>The tuple of underlying ibis Tables.</p>

    </div>

</div>



<div class="doc doc-object doc-function">


<h4 id="mismo.UnionTable.__init__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.UnionTable.__init__</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">__init__</span><span class="p">(</span><span class="n">tables</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="collections.abc.Iterable" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterable">Iterable</a></span><span class="p">[</span><span class="n"><span title="ibis.Table">Table</span></span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Create a UnionTable from an iterable of ibis Tables.</p>


    </div>

</div>



  </div>

    </div>

</div><h2 id="linkers">Linkers</h2>
<p>Utilities and classes for the blocking phase of record linkage, where
we choose pairs of records to compare.</p>
<p>Without blocking, we would have to compare N*M records, which
becomes intractable for datasets much larger than a few thousand.</p>


<div class="doc doc-object doc-class">



<h3 id="mismo.Linker" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">mismo.Linker</span>


</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-external" title="typing.Protocol" href="https://docs.python.org/3/library/typing.html#typing.Protocol">Protocol</a></code></p>


        <p>A Protocol that takes two tables of records and produces a <a class="autorefs autorefs-internal" title="            mismo.Linkage" href="#mismo.Linkage">Linkage</a>.</p>










  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="mismo.Linker.__call__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.Linker.__call__</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">__call__</span><span class="p">(</span><span class="n">left</span><span class="p">:</span> <span class="n"><span title="ibis.Table">Table</span></span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="n"><span title="ibis.Table">Table</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="            mismo.Linkage (mismo.linkage._linkage.Linkage)" href="#mismo.Linkage">Linkage</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Given two tables, return a Linkage.</p>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="mismo.FullLinker" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">mismo.FullLinker</span>


</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            mismo.Linker (mismo.linker._common.Linker)" href="#mismo.Linker">Linker</a></code></p>


        <p>A <a class="autorefs autorefs-internal" title="            mismo.Linker" href="#mismo.Linker">Linker</a> that yields all possible pairs.</p>
<p>This will be N x M pairs for linking tasks,
and N x (M-1) pairs for deduplication tasks.</p>










  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="mismo.EmptyLinker" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">mismo.EmptyLinker</span>


</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            mismo.Linker (mismo.linker._common.Linker)" href="#mismo.Linker">Linker</a></code></p>


        <p>A <a class="autorefs autorefs-internal" title="            mismo.Linker" href="#mismo.Linker">Linker</a> that yields no pairs.</p>










  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="mismo.JoinLinker" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">mismo.JoinLinker</span>


</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            mismo.Linker (mismo.linker._common.Linker)" href="#mismo.Linker">Linker</a></code></p>


        <p>A <a class="autorefs autorefs-internal" title="            mismo.Linker" href="#mismo.Linker">Linker</a> based on a join condition.</p>










  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="mismo.JoinLinker.__call__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.JoinLinker.__call__</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">__call__</span><span class="p">(</span><span class="n">left</span><span class="p">:</span> <span class="n"><span title="ibis.Table">Table</span></span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="n"><span title="ibis.Table">Table</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="            mismo.Linkage (mismo.linkage._linkage.Linkage)" href="#mismo.Linkage">Linkage</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Create a linkage from the join condition.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="mismo.JoinLinker.__init__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.JoinLinker.__init__</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">__init__</span><span class="p">(</span>
    <span class="n">condition</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3/library/typing.html#typing.Callable">Callable</a></span><span class="p">[[</span><span class="n"><span title="ibis.Table">Table</span></span><span class="p">,</span> <span class="n"><span title="ibis.Table">Table</span></span><span class="p">],</span> <span class="n"><span title="ibis.ir.BooleanValue">BooleanValue</span></span><span class="p">],</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">task</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a></span><span class="p">[</span><span class="s2">&quot;dedupe&quot;</span><span class="p">,</span> <span class="s2">&quot;link&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">on_slow</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a></span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">,</span> <span class="s2">&quot;warn&quot;</span><span class="p">,</span> <span class="s2">&quot;ignore&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;error&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Create from a join condition.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>condition</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The join condition.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3/library/typing.html#typing.Callable">Callable</a>[[<span title="ibis.Table">Table</span>, <span title="ibis.Table">Table</span>], <span title="ibis.ir.BooleanValue">BooleanValue</span>]</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>task</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The task to perform. If <code>None</code>, the task will be inferred as
"dedupe" if the two tables passed to <strong>call</strong> are the same,
otherwise it will be inferred as "link".</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a>[&#39;dedupe&#39;, &#39;link&#39;] | None</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>on_slow</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>What to do if the join is slow. See <a class="autorefs autorefs-internal" title="            mismo.joins.check_join_algorithm" href="../join/#mismo.joins.check_join_algorithm">mismo.joins.check_join_algorithm</a>.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a>[&#39;error&#39;, &#39;warn&#39;, &#39;ignore&#39;]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>&#39;error&#39;</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="mismo.JoinLinker.__join_condition__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.JoinLinker.__join_condition__</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">__join_condition__</span><span class="p">(</span>
    <span class="n">left</span><span class="p">:</span> <span class="n"><span title="ibis.Table">Table</span></span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="n"><span title="ibis.Table">Table</span></span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="ibis.ir.BooleanValue">BooleanValue</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Create a join condition.</p>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="mismo.KeyLinker" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">mismo.KeyLinker</span>


</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            mismo.Linker (mismo.linker._common.Linker)" href="#mismo.Linker">Linker</a></code></p>


        <p>A <a class="autorefs autorefs-internal" title="            mismo.Linker" href="#mismo.Linker">Linker</a> that links records wherever they share a key, eg "emails match."</p>
<p>This is one of the most basic blocking rules, used very often in record linkage.
This is what is used in <code>splink</code>.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">ibis</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">ibis</span><span class="w"> </span><span class="kn">import</span> <span class="n">_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">mismo</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibis</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">interactive</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">linkage</span> <span class="o">=</span> <span class="n">mismo</span><span class="o">.</span><span class="n">playdata</span><span class="o">.</span><span class="n">load_patents</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">linkage</span><span class="o">.</span><span class="n">left</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;record_id&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;latitude&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="go">┏━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━┓</span>
<span class="go">┃ record_id ┃ name                         ┃ latitude ┃</span>
<span class="go">┡━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━┩</span>
<span class="go">│ uint32    │ string                       │ float64  │</span>
<span class="go">├───────────┼──────────────────────────────┼──────────┤</span>
<span class="go">│      2909 │ * AGILENT TECHNOLOGIES, INC. │     0.00 │</span>
<span class="go">│      3574 │ * AKZO NOBEL N.V.            │     0.00 │</span>
<span class="go">│      3575 │ * AKZO NOBEL NV              │     0.00 │</span>
<span class="go">│      3779 │ * ALCATEL N.V.               │    52.35 │</span>
<span class="go">│      3780 │ * ALCATEL N.V.               │    52.35 │</span>
<span class="go">└───────────┴──────────────────────────────┴──────────┘</span>
</code></pre></div>
    <p>Block the table with itself wherever the names match:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">linker</span> <span class="o">=</span> <span class="n">mismo</span><span class="o">.</span><span class="n">KeyLinker</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">linker</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">links</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;record_id_l&quot;</span><span class="p">,</span> <span class="s2">&quot;record_id_r&quot;</span>
<span class="gp">... </span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="go">┏━━━━━━━━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━━━━━━┳━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━┓</span>
<span class="go">┃ record_id_l ┃ record_id_r ┃ latitude_l ┃ latitude_r ┃ name_l         ┃ name_r         ┃</span>
<span class="go">┡━━━━━━━━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━━━━━━╇━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━┩</span>
<span class="go">│ int64       │ int64       │ float64    │ float64    │ string         │ string         │</span>
<span class="go">├─────────────┼─────────────┼────────────┼────────────┼────────────────┼────────────────┤</span>
<span class="go">│        3779 │        3780 │      52.35 │  52.350000 │ * ALCATEL N.V. │ * ALCATEL N.V. │</span>
<span class="go">│        3779 │        3782 │      52.35 │   0.000000 │ * ALCATEL N.V. │ * ALCATEL N.V. │</span>
<span class="go">│        3780 │        3782 │      52.35 │   0.000000 │ * ALCATEL N.V. │ * ALCATEL N.V. │</span>
<span class="go">│       25388 │     7651559 │       0.00 │  50.966667 │ DSM N.V.       │ DSM N.V.       │</span>
<span class="go">│       25388 │     7651560 │       0.00 │  52.500000 │ DSM N.V.       │ DSM N.V.       │</span>
<span class="go">└─────────────┴─────────────┴────────────┴────────────┴────────────────┴────────────────┘</span>
</code></pre></div>
    <p>Arbitrary blocking keys are supported. For example, block the table wherever</p>
<ul>
<li>the first 5 characters of the name in uppercase, are the same
    AND</li>
<li>the latitudes, rounded to 1 decimal place, are the same</li>
</ul>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">linker</span> <span class="o">=</span> <span class="n">mismo</span><span class="o">.</span><span class="n">KeyLinker</span><span class="p">((</span><span class="n">_</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">][:</span><span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">upper</span><span class="p">(),</span> <span class="n">_</span><span class="o">.</span><span class="n">latitude</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">1</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">blocker</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s2">&quot;record_id_l&quot;</span><span class="p">,</span> <span class="s2">&quot;record_id_r&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="go">┏━━━━━━━━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━━━━━━┳━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━┓</span>
<span class="go">┃ record_id_l ┃ record_id_r ┃ latitude_l ┃ latitude_r ┃ name_l              ┃ name_r              ┃</span>
<span class="go">┡━━━━━━━━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━━━━━━╇━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━┩</span>
<span class="go">│ int64       │ int64       │ float64    │ float64    │ string              │ string              │</span>
<span class="go">├─────────────┼─────────────┼────────────┼────────────┼─────────────────────┼─────────────────────┤</span>
<span class="go">│        3574 │        3575 │       0.00 │       0.00 │ * AKZO NOBEL N.V.   │ * AKZO NOBEL NV     │</span>
<span class="go">│        3779 │        3780 │      52.35 │      52.35 │ * ALCATEL N.V.      │ * ALCATEL N.V.      │</span>
<span class="go">│       15041 │       15042 │       0.00 │       0.00 │ * CANON EUROPA N.V  │ * CANON EUROPA N.V. │</span>
<span class="go">│       15041 │       15043 │       0.00 │       0.00 │ * CANON EUROPA N.V  │ * CANON EUROPA NV   │</span>
<span class="go">│       15042 │       15043 │       0.00 │       0.00 │ * CANON EUROPA N.V. │ * CANON EUROPA NV   │</span>
<span class="go">└─────────────┴─────────────┴────────────┴────────────┴─────────────────────┴─────────────────────┘</span>
</code></pre></div>
    <p>We can even block on arrays! For example, first let's split each name into
significant tokens:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">tokens</span> <span class="o">=</span> <span class="n">_</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">length</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">tokens</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="s2">&quot;tokens&quot;</span><span class="p">))</span>
<span class="go">┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓</span>
<span class="go">┃ tokens                       ┃</span>
<span class="go">┡━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┩</span>
<span class="go">│ array&lt;string&gt;                │</span>
<span class="go">├──────────────────────────────┤</span>
<span class="go">│ [&#39;AGILENT&#39;, &#39;TECHNOLOGIES,&#39;] │</span>
<span class="go">│ [&#39;NOBEL&#39;]                    │</span>
<span class="go">│ [&#39;NOBEL&#39;]                    │</span>
<span class="go">│ [&#39;ALCATEL&#39;]                  │</span>
<span class="go">│ [&#39;ALCATEL&#39;]                  │</span>
<span class="go">│ [&#39;ALCATEL&#39;]                  │</span>
<span class="go">│ [&#39;CANON&#39;, &#39;EUROPA&#39;]          │</span>
<span class="go">│ [&#39;CANON&#39;, &#39;EUROPA&#39;]          │</span>
<span class="go">│ [&#39;CANON&#39;, &#39;EUROPA&#39;]          │</span>
<span class="go">│ []                           │</span>
<span class="go">│ …                            │</span>
<span class="go">└──────────────────────────────┘</span>
</code></pre></div>
    <p>Now, block the tables together wherever two records share a token.
Note that this blocked <code>* SCHLUMBERGER LIMITED</code> with <code>* SCHLUMBERGER TECHNOLOGY BV</code>.
because they both share the <code>SCHLUMBERGER</code> token.</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">linker</span> <span class="o">=</span> <span class="n">mismo</span><span class="o">.</span><span class="n">KeyLinker</span><span class="p">(</span><span class="n">tokens</span><span class="o">.</span><span class="n">unnest</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">linker</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">links</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">_</span><span class="o">.</span><span class="n">name_l</span> <span class="o">!=</span> <span class="n">_</span><span class="o">.</span><span class="n">name_r</span><span class="p">)</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;record_id_l&quot;</span><span class="p">,</span> <span class="s2">&quot;record_id_r&quot;</span>
<span class="gp">... </span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="go">┏━━━━━━━━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━━━━━━┳━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓</span>
<span class="go">┃ record_id_l ┃ record_id_r ┃ latitude_l ┃ latitude_r ┃ name_l                                                     ┃ name_r                                                     ┃</span>
<span class="go">┡━━━━━━━━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━━━━━━╇━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┩</span>
<span class="go">│ int64       │ int64       │ float64    │ float64    │ string                                                     │ string                                                     │</span>
<span class="go">├─────────────┼─────────────┼────────────┼────────────┼────────────────────────────────────────────────────────────┼────────────────────────────────────────────────────────────┤</span>
<span class="go">│        2909 │    13390969 │        0.0 │      52.35 │ * AGILENT TECHNOLOGIES, INC.                               │ Hitachi Global Storage Technologies, Inc. Netherlands B.V  │</span>
<span class="go">│        2909 │    13390970 │        0.0 │      52.35 │ * AGILENT TECHNOLOGIES, INC.                               │ Hitachi Global Storage Technologies, Inc. Netherlands B.V. │</span>
<span class="go">│        2909 │    13391015 │        0.0 │      52.35 │ * AGILENT TECHNOLOGIES, INC.                               │ Hitachi Global Storage Technologies, Netherland B.V.       │</span>
<span class="go">│        2909 │    13391055 │        0.0 │      52.50 │ * AGILENT TECHNOLOGIES, INC.                               │ Hitachi Global Storage Technologies, Netherlands, B.V.     │</span>
<span class="go">│        2909 │    13391056 │        0.0 │      52.35 │ * AGILENT TECHNOLOGIES, INC.                               │ Hitachi Global Storage Technologies, Netherlands, B.V.     │</span>
<span class="go">└─────────────┴─────────────┴────────────┴────────────┴────────────────────────────────────────────────────────────┴────────────────────────────────────────────────────────────┘</span>
</code></pre></div>










  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="mismo.KeyLinker.__call__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.KeyLinker.__call__</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">__call__</span><span class="p">(</span><span class="n">left</span><span class="p">:</span> <span class="n"><span title="ibis.Table">Table</span></span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="n"><span title="ibis.Table">Table</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="            mismo.Linkage (mismo.linkage.Linkage)" href="#mismo.Linkage">Linkage</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>The linkage between the two tables.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="mismo.KeyLinker.__init__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.KeyLinker.__init__</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">__init__</span><span class="p">(</span>
    <span class="n">keys</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span>
    <span class="o">|</span> <span class="n"><span title="ibis.expr.types.Value">Value</span></span>
    <span class="o">|</span> <span class="n"><span title="ibis.Deferred">Deferred</span></span>
    <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3/library/typing.html#typing.Callable">Callable</a></span><span class="p">[</span>
        <span class="p">[</span><span class="n"><span title="ibis.Table">Table</span></span><span class="p">,</span> <span class="n"><span title="ibis.Table">Table</span></span><span class="p">],</span>
        <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a></span><span class="p">[</span><span class="n"><span title="ibis.expr.types.Value">Value</span></span> <span class="o">|</span> <span class="n"><span title="ibis.expr.types.Column">Column</span></span><span class="p">,</span> <span class="n"><span title="ibis.expr.types.Value">Value</span></span> <span class="o">|</span> <span class="n"><span title="ibis.expr.types.Column">Column</span></span><span class="p">],</span>
    <span class="p">]</span>
    <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Iterable" href="https://docs.python.org/3/library/typing.html#typing.Iterable">Iterable</a></span><span class="p">[</span>
        <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span>
        <span class="o">|</span> <span class="n"><span title="ibis.expr.types.Value">Value</span></span>
        <span class="o">|</span> <span class="n"><span title="ibis.Deferred">Deferred</span></span>
        <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3/library/typing.html#typing.Callable">Callable</a></span><span class="p">[[</span><span class="n"><span title="ibis.Table">Table</span></span><span class="p">],</span> <span class="n"><span title="ibis.expr.types.Value">Value</span></span> <span class="o">|</span> <span class="n"><span title="ibis.expr.types.Column">Column</span></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span> <span class="o">|</span> <span class="n"><span title="ibis.Deferred">Deferred</span></span><span class="p">]</span>
        <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a></span><span class="p">[</span>
            <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span>
            <span class="o">|</span> <span class="n"><span title="ibis.Deferred">Deferred</span></span>
            <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3/library/typing.html#typing.Callable">Callable</a></span><span class="p">[</span>
                <span class="p">[</span><span class="n"><span title="ibis.Table">Table</span></span><span class="p">],</span> <span class="n"><span title="ibis.expr.types.Value">Value</span></span> <span class="o">|</span> <span class="n"><span title="ibis.expr.types.Column">Column</span></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span> <span class="o">|</span> <span class="n"><span title="ibis.Deferred">Deferred</span></span>
            <span class="p">],</span>
            <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span>
            <span class="o">|</span> <span class="n"><span title="ibis.Deferred">Deferred</span></span>
            <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3/library/typing.html#typing.Callable">Callable</a></span><span class="p">[</span>
                <span class="p">[</span><span class="n"><span title="ibis.Table">Table</span></span><span class="p">],</span> <span class="n"><span title="ibis.expr.types.Value">Value</span></span> <span class="o">|</span> <span class="n"><span title="ibis.expr.types.Column">Column</span></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span> <span class="o">|</span> <span class="n"><span title="ibis.Deferred">Deferred</span></span>
            <span class="p">],</span>
        <span class="p">]</span>
        <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3/library/typing.html#typing.Callable">Callable</a></span><span class="p">[</span>
            <span class="p">[</span><span class="n"><span title="ibis.Table">Table</span></span><span class="p">,</span> <span class="n"><span title="ibis.Table">Table</span></span><span class="p">],</span>
            <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a></span><span class="p">[</span><span class="n"><span title="ibis.expr.types.Value">Value</span></span> <span class="o">|</span> <span class="n"><span title="ibis.expr.types.Column">Column</span></span><span class="p">,</span> <span class="n"><span title="ibis.expr.types.Value">Value</span></span> <span class="o">|</span> <span class="n"><span title="ibis.expr.types.Column">Column</span></span><span class="p">],</span>
        <span class="p">]</span>
    <span class="p">],</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">max_pairs</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">task</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a></span><span class="p">[</span><span class="s2">&quot;dedupe&quot;</span><span class="p">,</span> <span class="s2">&quot;lookup&quot;</span><span class="p">,</span> <span class="s2">&quot;link&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Create a KeyBlocker.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>keys</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The keys to block on.
The tables will be blocked together wherever they share ALL the keys.
Each key can be any of the following:</p>
<ul>
<li>A string, which is interpreted as the name of a column in both tables.
  eg "price" is equivalent to <code>left.price == right.price</code></li>
<li>A Deferred, which is used to reference a column in a table.
  eg <code>_.price.fill_null(0)</code> is equivalent to
  <code>left.price.fill_null(0) == right.price.fill_null(0)</code></li>
<li>A Callable that takes a table and returns a Column.</li>
<li>A 2-tuple of the above, where the first element describes the key in the
  left table and the second element describes the key in the right table.
  eg <code>("first_name", _.GivenName.upper()")</code> is equivalent to
  <code>left.first_name == right.GivenName.upper()</code>
  This is useful when the keys have different names in the two tables.</li>
<li>A callable that takes the left and right tables and returns a tuple
  of columns. Left and right will be joined where the columns are equal.</li>
</ul>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a> | <span title="ibis.expr.types.Value">Value</span> | <span title="ibis.Deferred">Deferred</span> | <a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3/library/typing.html#typing.Callable">Callable</a>[[<span title="ibis.Table">Table</span>, <span title="ibis.Table">Table</span>], <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a>[<span title="ibis.expr.types.Value">Value</span> | <span title="ibis.expr.types.Column">Column</span>, <span title="ibis.expr.types.Value">Value</span> | <span title="ibis.expr.types.Column">Column</span>]] | <a class="autorefs autorefs-external" title="typing.Iterable" href="https://docs.python.org/3/library/typing.html#typing.Iterable">Iterable</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a> | <span title="ibis.expr.types.Value">Value</span> | <span title="ibis.Deferred">Deferred</span> | <a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3/library/typing.html#typing.Callable">Callable</a>[[<span title="ibis.Table">Table</span>], <span title="ibis.expr.types.Value">Value</span> | <span title="ibis.expr.types.Column">Column</span> | <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a> | <span title="ibis.Deferred">Deferred</span>] | <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a> | <span title="ibis.Deferred">Deferred</span> | <a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3/library/typing.html#typing.Callable">Callable</a>[[<span title="ibis.Table">Table</span>], <span title="ibis.expr.types.Value">Value</span> | <span title="ibis.expr.types.Column">Column</span> | <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a> | <span title="ibis.Deferred">Deferred</span>], <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a> | <span title="ibis.Deferred">Deferred</span> | <a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3/library/typing.html#typing.Callable">Callable</a>[[<span title="ibis.Table">Table</span>], <span title="ibis.expr.types.Value">Value</span> | <span title="ibis.expr.types.Column">Column</span> | <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a> | <span title="ibis.Deferred">Deferred</span>]] | <a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3/library/typing.html#typing.Callable">Callable</a>[[<span title="ibis.Table">Table</span>, <span title="ibis.Table">Table</span>], <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a>[<span title="ibis.expr.types.Value">Value</span> | <span title="ibis.expr.types.Column">Column</span>, <span title="ibis.expr.types.Value">Value</span> | <span title="ibis.expr.types.Column">Column</span>]]]</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>max_pairs</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The maximum number of pairs to generate for each key.
This is to reduce the impact of very common keys.
For example, if you are linking people, the name "John Smith" might be
very common, appearing 5000 times in both left and right.
This name alone would generate 5000 * 5000 = 25 million pairs,
which might be too computationally expensive.
If you set <code>max_pairs=1000</code>, then any key that generates more than 1000
pairs will be ignored.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a> | None</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>task</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The task to count pairs for.</p>
<ul>
<li>"link": each key results in n_left * n_right pairs</li>
<li>"dedupe": each key results in n_left * (n_right - 1) / 2 pairs
   since we will only generate pair (A, B), not also (B, A).</li>
<li>None: inferred from the input tables: if <code>left is right</code>, then "dedupe",
  otherwise "link".</li>
</ul>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a>[&#39;dedupe&#39;, &#39;lookup&#39;, &#39;link&#39;] | None</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="mismo.KeyLinker.pair_counts" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.KeyLinker.pair_counts</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">pair_counts</span><span class="p">(</span><span class="n">left</span><span class="p">:</span> <span class="n"><span title="ibis.Table">Table</span></span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="n"><span title="ibis.Table">Table</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="mismo._counts_table.PairCountsTable">PairCountsTable</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Count the number of pairs that would be generated by each key.</p>
<p>If you were to use this blocker to join <code>left</code> with <code>right</code>,
how many pairs would be generated for each key?</p>
<p>This is useful for analyzing the skew of join keys.
For example, if you are joining on (surname, city),
there might be only 4 values for (hoessle, tinytown),
which would lead to a block of 4 * 4 = 16 record pairs.</p>
<p>On the other hand, there could be 10_000 values for (smith, new york city).
This would lead to 10_000 * 10_000 = 100_000_000 record pairs,
which is likely too many for you to be able to compare.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>left</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The left table.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="ibis.Table">Table</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>right</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The right table.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="ibis.Table">Table</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><a class="autorefs autorefs-internal" title="            mismo.CountsTable (mismo._counts_table.CountsTable)" href="#mismo.CountsTable">CountsTable</a></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Will have column(s) for each <code>key</code> and a column <code>n</code> with the count.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">ibis</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibis</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">interactive</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">mismo</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">records</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span>    <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
<span class="gp">... </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">ibis</span><span class="o">.</span><span class="n">memtable</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">records</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;record_id&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="s2">&quot;letter&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;num&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">}</span>
<span class="gp">... </span><span class="p">)</span><span class="o">.</span><span class="n">cache</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span>
<span class="go">┏━━━━━━━━━━━┳━━━━━━━━┳━━━━━━━┓</span>
<span class="go">┃ record_id ┃ letter ┃ num   ┃</span>
<span class="go">┡━━━━━━━━━━━╇━━━━━━━━╇━━━━━━━┩</span>
<span class="go">│ int64     │ string │ int64 │</span>
<span class="go">├───────────┼────────┼───────┤</span>
<span class="go">│         1 │ a      │     1 │</span>
<span class="go">│         2 │ b      │     1 │</span>
<span class="go">│         3 │ b      │     1 │</span>
<span class="go">│         4 │ c      │     3 │</span>
<span class="go">│         5 │ b      │     2 │</span>
<span class="go">│         6 │ c      │     3 │</span>
<span class="go">│         7 │ NULL   │     4 │</span>
<span class="go">│         8 │ c      │     3 │</span>
<span class="go">└───────────┴────────┴───────┘</span>
</code></pre></div>
    <p>If we joined t with itself using this blocker in a dedupe task,
we would end up with</p>
<ul>
<li>3 pairs in the (c, 3) block due to pairs (3, 6), (3, 8), and (6, 8)</li>
<li>1 pairs in the (b, 1) block due to pairs (1, 2)</li>
<li>0 pairs in the (a, 1) block due to record 0 not getting blocked with itself</li>
<li>0 pairs in the (b, 2) block due to record 4 not getting blocked with itself</li>
</ul>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">linker</span> <span class="o">=</span> <span class="n">mismo</span><span class="o">.</span><span class="n">KeyLinker</span><span class="p">([</span><span class="s2">&quot;letter&quot;</span><span class="p">,</span> <span class="s2">&quot;num&quot;</span><span class="p">],</span> <span class="n">task</span><span class="o">=</span><span class="s2">&quot;dedupe&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">counts</span> <span class="o">=</span> <span class="n">linker</span><span class="o">.</span><span class="n">pair_counts</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">counts</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s2">&quot;letter&quot;</span><span class="p">,</span> <span class="s2">&quot;num&quot;</span><span class="p">)</span>
<span class="go">┏━━━━━━━━┳━━━━━━━┳━━━━━━━┓</span>
<span class="go">┃ letter ┃ num   ┃ n     ┃</span>
<span class="go">┡━━━━━━━━╇━━━━━━━╇━━━━━━━┩</span>
<span class="go">│ string │ int64 │ int64 │</span>
<span class="go">├────────┼───────┼───────┤</span>
<span class="go">│ a      │     1 │     0 │</span>
<span class="go">│ b      │     1 │     1 │</span>
<span class="go">│ b      │     2 │     0 │</span>
<span class="go">│ c      │     3 │     3 │</span>
<span class="go">└────────┴───────┴───────┘</span>
</code></pre></div>
    <p>If we joined t with a copy of itself using this linker in a link task,
we would end up with</p>
<ul>
<li>9 pairs in the (c, 3) block due to pairs (3,3), (3, 6), (3, 8), (6, 3), (6, 6), (6, 8), (8, 3), (8, 6), and (8, 8)</li>
<li>4 pairs in the (b, 1) block due to pairs (1, 1), (1, 2), (2, 1), and (2, 2)</li>
<li>1 pairs in the (a, 1) block due to pair (0, 0)</li>
<li>1 pairs in the (b, 2) block due to pair (4, 4)</li>
</ul>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">linker</span> <span class="o">=</span> <span class="n">mismo</span><span class="o">.</span><span class="n">KeyLinker</span><span class="p">([</span><span class="s2">&quot;letter&quot;</span><span class="p">,</span> <span class="s2">&quot;num&quot;</span><span class="p">],</span> <span class="n">task</span><span class="o">=</span><span class="s2">&quot;link&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">counts</span> <span class="o">=</span> <span class="n">linker</span><span class="o">.</span><span class="n">pair_counts</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">counts</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s2">&quot;letter&quot;</span><span class="p">,</span> <span class="s2">&quot;num&quot;</span><span class="p">)</span>
<span class="go">┏━━━━━━━━┳━━━━━━━┳━━━━━━━┓</span>
<span class="go">┃ letter ┃ num   ┃ n     ┃</span>
<span class="go">┡━━━━━━━━╇━━━━━━━╇━━━━━━━┩</span>
<span class="go">│ string │ int64 │ int64 │</span>
<span class="go">├────────┼───────┼───────┤</span>
<span class="go">│ a      │     1 │     1 │</span>
<span class="go">│ b      │     1 │     4 │</span>
<span class="go">│ b      │     2 │     1 │</span>
<span class="go">│ c      │     3 │     9 │</span>
<span class="go">└────────┴───────┴───────┘</span>
</code></pre></div>
    <p>The returned CountsTable is a subclass of an Ibis Table
with a special <code>n_total</code> method for convenience:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">counts</span><span class="o">.</span><span class="n">n_total</span><span class="p">()</span>
<span class="go">15</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">counts</span><span class="p">,</span> <span class="n">ibis</span><span class="o">.</span><span class="n">Table</span><span class="p">)</span>
<span class="go">True</span>
</code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="mismo.KeyLinker.too_common_of_records" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.KeyLinker.too_common_of_records</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">too_common_of_records</span><span class="p">(</span>
    <span class="n">left</span><span class="p">:</span> <span class="n"><span title="ibis.Table">Table</span></span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="n"><span title="ibis.Table">Table</span></span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a></span><span class="p">[</span><span class="n"><span title="ibis.Table">Table</span></span><span class="p">,</span> <span class="n"><span title="ibis.Table">Table</span></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>The prefilter clause that removes keys that would generate too many pairs.</p>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="mismo.KeyLinker.key_counts_left" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.KeyLinker.key_counts_left</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">key_counts_left</span><span class="p">(</span><span class="n">left</span><span class="p">:</span> <span class="n"><span title="ibis.Table">Table</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="mismo._counts_table.KeyCountsTable">KeyCountsTable</span></span>
</code></pre></div>

    <div class="doc doc-contents first">


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="mismo.KeyLinker.key_counts_right" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.KeyLinker.key_counts_right</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">key_counts_right</span><span class="p">(</span><span class="n">right</span><span class="p">:</span> <span class="n"><span title="ibis.Table">Table</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="mismo._counts_table.KeyCountsTable">KeyCountsTable</span></span>
</code></pre></div>

    <div class="doc doc-contents first">


    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="mismo.OrLinker" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">mismo.OrLinker</span>


</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            mismo.Linker (mismo.linker._common.Linker)" href="#mismo.Linker">Linker</a></code></p>


        <p>A Linker that is the logical OR of multiple [mismo.HasJoinCondition].</p>
<p>Physically, this is implemented as follows:
- remove any condition overlap using [mismo.joins.remove_condition_overlap]
- create a <a class="autorefs autorefs-internal" title="            mismo.LinksTable" href="#mismo.LinksTable">LinksTable</a> for each join condition
  (which should be fast)
- Union the <a class="autorefs autorefs-internal" title="            mismo.LinksTable" href="#mismo.LinksTable">LinksTable</a>s into a single <a class="autorefs autorefs-internal" title="            mismo.LinksTable" href="#mismo.LinksTable">LinksTable</a></p>










  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="mismo.OrLinker.join_conditions" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">mismo.OrLinker.join_conditions</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">join_conditions</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="            mismo.HasJoinCondition (mismo.joins.HasJoinCondition)" href="../join/#mismo.HasJoinCondition">HasJoinCondition</a></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>The tuple of underling HasJoinCondition objects.</p>

    </div>

</div>





  </div>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="mismo.linkage.sample_all_links" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">mismo.linkage.sample_all_links</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">sample_all_links</span><span class="p">(</span>
    <span class="n">left</span><span class="p">:</span> <span class="n"><span title="ibis.Table">Table</span></span><span class="p">,</span>
    <span class="n">right</span><span class="p">:</span> <span class="n"><span title="ibis.Table">Table</span></span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">max_pairs</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="            mismo.LinksTable (mismo.types.LinksTable)" href="#mismo.LinksTable">LinksTable</a></span>
</code></pre></div>

    <div class="doc doc-contents first">

        <p>Samples up to <code>max_pairs</code> from all possible pairs of records.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>left</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The left table.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="ibis.Table">Table</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>right</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The right table.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="ibis.Table">Table</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>max_pairs</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The maximum number of pairs to sample. If None, all possible pairs are sampled.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a> | None</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code>A [LinksTable][mismo.LinksTable] with just record_id_l and record_id_r.</code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code>All pairs will be unique.</code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">ibis</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">mismo</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibis</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">interactive</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">linkage</span> <span class="o">=</span> <span class="n">mismo</span><span class="o">.</span><span class="n">playdata</span><span class="o">.</span><span class="n">load_febrl1</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">linkage</span><span class="o">.</span><span class="n">left</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;record_id&quot;</span><span class="p">,</span> <span class="s2">&quot;label_true&quot;</span><span class="p">,</span> <span class="s2">&quot;given_name&quot;</span><span class="p">,</span> <span class="s2">&quot;surname&quot;</span><span class="p">)</span>
<span class="go">┏━━━━━━━━━━━┳━━━━━━━━━━━━┳━━━━━━━━━━━━┳━━━━━━━━━━┓</span>
<span class="go">┃ record_id ┃ label_true ┃ given_name ┃ surname  ┃</span>
<span class="go">┡━━━━━━━━━━━╇━━━━━━━━━━━━╇━━━━━━━━━━━━╇━━━━━━━━━━┩</span>
<span class="go">│ uint16    │ uint16     │ string     │ string   │</span>
<span class="go">├───────────┼────────────┼────────────┼──────────┤</span>
<span class="go">│         0 │          0 │ thomas     │ rokobaro │</span>
<span class="go">│         1 │          0 │ flynn      │ rokobaro │</span>
<span class="go">│         2 │          1 │ karli      │ alderson │</span>
<span class="go">│         3 │          1 │ karli      │ alderson │</span>
<span class="go">│         4 │          2 │ alexandra  │ britten  │</span>
<span class="go">└───────────┴────────────┴────────────┴──────────┘</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mismo</span><span class="o">.</span><span class="n">linkage</span><span class="o">.</span><span class="n">sample_all_links</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">linkage</span><span class="o">.</span><span class="n">left</span><span class="p">,</span> <span class="n">linkage</span><span class="o">.</span><span class="n">left</span><span class="p">,</span> <span class="n">max_pairs</span><span class="o">=</span><span class="mi">7</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">┏━━━━━━━━━━━━━┳━━━━━━━━━━━━━┓</span>
<span class="go">┃ record_id_l ┃ record_id_r ┃</span>
<span class="go">┡━━━━━━━━━━━━━╇━━━━━━━━━━━━━┩</span>
<span class="go">│ uint16      │ uint16      │</span>
<span class="go">├─────────────┼─────────────┤</span>
<span class="go">│         427 │         163 │</span>
<span class="go">│         511 │         182 │</span>
<span class="go">│         767 │         186 │</span>
<span class="go">│         665 │         232 │</span>
<span class="go">│         340 │         317 │</span>
<span class="go">│          14 │         432 │</span>
<span class="go">│         323 │         671 │</span>
<span class="go">└─────────────┴─────────────┘</span>
</code></pre></div>


    </div>

</div><h2 id="comparing-tables">Comparing tables</h2>


<div class="doc doc-object doc-class">



<h3 id="mismo.Updates" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">mismo.Updates</span>


</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="mismo.types._table_wrapper.TableWrapper">TableWrapper</span></code></p>


        <p>A Table representing how individual rows were updated.</p>
<p>This only represents differences in rows that exist both before and after the changes.
To represent a general difference between two tables, eg with insertions and deletions,
use <a href="mismo.Diff">Diff</a>.</p>
<p>This represents how each column has changed between two tables.
If a column only has a 'before' field, it means this column was removed.
If a column only has an 'after' field, it means this column was added.
If a column has both 'before' and 'after' fields, it means this column was present in both tables.</p>










  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="mismo.Updates.check_schemas" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">mismo.Updates.check_schemas</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">check_schemas</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a></span><span class="p">[</span><span class="s1">&#39;exactly&#39;</span><span class="p">,</span> <span class="s1">&#39;names&#39;</span><span class="p">,</span> <span class="s1">&#39;lax&#39;</span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>The schema checking mode used for this Updates object.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="mismo.Updates.filters" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">mismo.Updates.filters</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">filters</span> <span class="o">=</span> <span class="n"><span title="mismo.types._updates.Filters">Filters</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>A set of filters for convenience.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">u</span> <span class="o">=</span> <span class="n">Updates</span><span class="o">.</span><span class="n">from_tables</span><span class="p">(</span><span class="n">before</span><span class="p">,</span> <span class="n">after</span><span class="p">,</span> <span class="n">join_on</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">u</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">filters</span><span class="o">.</span><span class="n">all_different</span><span class="p">([</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;age&quot;</span><span class="p">]))</span>
</code></pre></div>

    </div>

</div>



<div class="doc doc-object doc-function">


<h4 id="mismo.Updates.__init__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.Updates.__init__</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">__init__</span><span class="p">(</span>
    <span class="n">diff_table</span><span class="p">:</span> <span class="n"><span title="ibis.Table">Table</span></span><span class="p">,</span>
    <span class="o">/</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">check_schemas</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a></span><span class="p">[</span>
        <span class="s2">&quot;exactly&quot;</span><span class="p">,</span> <span class="s2">&quot;names&quot;</span><span class="p">,</span> <span class="s2">&quot;lax&quot;</span>
    <span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;exactly&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Create an Updates object from a table of differences.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>diff_table</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>A table with columns that are structs with at least 'before' and 'after' fields.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="ibis.Table">Table</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>check_schemas</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>How to check the schemas of the before and after values.
- "exactly": both before and after must have the same columns and types.
- "names": both before and after must have the same columns, but types can differ.
- "lax": no schema checking, just that there is at least one of 'before' or 'after' in each column.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a>[&#39;exactly&#39;, &#39;names&#39;, &#39;lax&#39;]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>&#39;exactly&#39;</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="mismo.Updates.after" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.Updates.after</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">after</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="ibis.Table">Table</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>The table after the changes.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="mismo.Updates.after_values" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.Updates.after_values</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">after_values</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">,</span> <span class="n"><span title="ibis.expr.types.Column">Column</span></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>The values after the changes.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="mismo.Updates.apply_to" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.Updates.apply_to</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">apply_to</span><span class="p">(</span>
    <span class="n">t</span><span class="p">:</span> <span class="n"><span title="ibis.Table">Table</span></span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">defaults</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></span> <span class="o">=</span> <span class="n"><span title="mismo._util.NOT_SET">NOT_SET</span></span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="ibis.Table">Table</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Return the input table with these updates applied to it.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>t</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The table to apply the updates to.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="ibis.Table">Table</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>defaults</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>If the after table has more columns than the before table, you must provide defaults.
This is because there might be some rows in <code>t</code> that are not touched by this
Updates. We need to know what to put in those columns for the untouched rows.
This accepts anything that <code>ibis.Table.mutate()</code> accepts.</p>
<p>If None, as convenience, we will use <code>null</code> as the default for all new columns.
If _util.NOT_SET, an error is raised if the after table has more columns than the before table.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>None | <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code><span title="mismo._util.NOT_SET">NOT_SET</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="mismo.Updates.before" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.Updates.before</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">before</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="ibis.Table">Table</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>The table before the changes.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="mismo.Updates.before_values" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.Updates.before_values</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">before_values</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">,</span> <span class="n"><span title="ibis.expr.types.Column">Column</span></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>The values before the changes.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="mismo.Updates.from_before_after" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.Updates.from_before_after</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">from_before_after</span><span class="p">(</span>
    <span class="n">before</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="collections.abc.Mapping" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping">Mapping</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">,</span> <span class="n"><span title="ibis.Value">Value</span></span><span class="p">]</span> <span class="o">|</span> <span class="n"><span title="ibis.expr.types.StructValue">StructValue</span></span><span class="p">,</span>
    <span class="n">after</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="collections.abc.Mapping" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping">Mapping</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">,</span> <span class="n"><span title="ibis.Value">Value</span></span><span class="p">]</span> <span class="o">|</span> <span class="n"><span title="ibis.expr.types.StructValue">StructValue</span></span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">check_schemas</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a></span><span class="p">[</span>
        <span class="s2">&quot;exactly&quot;</span><span class="p">,</span> <span class="s2">&quot;names&quot;</span><span class="p">,</span> <span class="s2">&quot;lax&quot;</span>
    <span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;exactly&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="            mismo.Updates (mismo.types._updates.Updates)" href="#mismo.Updates">Updates</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Create an Updates object from before and after values.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>before</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The values before the changes.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><a class="autorefs autorefs-external" title="collections.abc.Mapping" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping">Mapping</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>, <span title="ibis.Value">Value</span>] | <span title="ibis.expr.types.StructValue">StructValue</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>after</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The values after the changes.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><a class="autorefs autorefs-external" title="collections.abc.Mapping" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping">Mapping</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>, <span title="ibis.Value">Value</span>] | <span title="ibis.expr.types.StructValue">StructValue</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>check_schemas</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>How to check the schemas of the before and after values.
- "exactly": both before and after must have the same columns and types.
- "names": both before and after must have the same columns, but types can differ.
- "lax": no schema checking, just that there is at least one of 'before' or 'after' in each column.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a>[&#39;exactly&#39;, &#39;names&#39;, &#39;lax&#39;]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>&#39;exactly&#39;</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><a class="autorefs autorefs-internal" title="            mismo.Updates (mismo.types._updates.Updates)" href="#mismo.Updates">Updates</a></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>An Updates object representing the changes.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="mismo.Updates.from_tables" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.Updates.from_tables</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">from_tables</span><span class="p">(</span>
    <span class="n">before</span><span class="p">:</span> <span class="n"><span title="ibis.Table">Table</span></span><span class="p">,</span>
    <span class="n">after</span><span class="p">:</span> <span class="n"><span title="ibis.Table">Table</span></span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">join_on</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a></span><span class="p">[</span><span class="kc">False</span><span class="p">],</span>
    <span class="n">check_schemas</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a></span><span class="p">[</span>
        <span class="s2">&quot;exactly&quot;</span><span class="p">,</span> <span class="s2">&quot;names&quot;</span><span class="p">,</span> <span class="s2">&quot;lax&quot;</span>
    <span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;exactly&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="            mismo.Updates (mismo.types._updates.Updates)" href="#mismo.Updates">Updates</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Create from two different tables by joining them on a key.</p>
<p>Note that this results in only the rows that are present in both tables,
due to the inner join on the key. Insertions and deletions should be
handled separately.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="mismo.Updates.is_changed" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.Updates.is_changed</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">is_changed</span><span class="p">(</span><span class="n">column</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="ibis.ir.BooleanColumn">BooleanColumn</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Is column.before different from column.after? Never returns NULL.</p>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="mismo.Diff" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">mismo.Diff</span>


</h3>


    <div class="doc doc-contents first">


        <p>A set of insertions, updates, and deletions between two tables.</p>
<p>This can only semantically represent 1-1 relationships,
eg a row in the <code>before</code> table corresponds to only 0 or 1 row in the <code>after</code> table,
and vice versa. eg "this row changed in these ways between these two tables".</p>
<p>To represent more general 0-N relationships, use a <a href="mismo.Linkage">Linkage</a>.
eg many rows in a "dirty" dataset are linked to a single row in a "clean" dataset.
Say you have a clean database of records.
You just got a new batch of dirty data that might contain duplicates.
Each record in the clean database might match multiple records in the dirty data.
This makes it difficult to use a Diff object, because each clean record
can't be paired up nicely with a single dirty record.
A Linkage object is more appropriate in this case.</p>
<p>This is able to represent a difference between two tables with different schemas,
eg if a column is added or removed.</p>










  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="mismo.Diff.stats" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">mismo.Diff.stats</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">stats</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            mismo.DiffStats (mismo.types._diff.DiffStats)" href="#mismo.DiffStats">DiffStats</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Statistics about this Diff.</p>

    </div>

</div>



<div class="doc doc-object doc-function">


<h4 id="mismo.Diff.after" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.Diff.after</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">after</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="ibis.Table">Table</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>The table after the changes.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="mismo.Diff.before" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.Diff.before</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">before</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="ibis.Table">Table</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>The table before the changes.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="mismo.Diff.cache" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.Diff.cache</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">cache</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="            mismo.Diff (mismo.types._diff.Diff)" href="#mismo.Diff">Diff</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Return a new Diff with all tables cached.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="mismo.Diff.chart" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.Diff.chart</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">chart</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="altair.Chart">Chart</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Create a chart that shows the flow of rows through the diff.</p>
<p>This is just a convenience method that calls <code>self.stats.chart()</code>.</p>
<div class="highlight"><pre><span></span><code>Rows
800,000 |                                 ▓▓  Inserted (50,000)
        |                                 ▒▒  Deleted (100,000)
700,000 |                                 ░░  Updated (200,000)
        |                                 ██  Unchanged (300,000)
600,000 |      ▒▒▒▒
        |      ▒▒▒▒             ▓▓▓▓
500,000 |      ░░░░             ░░░░
        |      ░░░░             ░░░░
400,000 |      ░░░░             ░░░░
        |      ░░░░             ░░░░
300,000 |      ████             ████
        |      ████             ████
200,000 |      ████             ████
        |      ████             ████
100,000 |      ████             ████
        |      ████             ████
      0 | Before (600,000)  After (550,000)
</code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="mismo.Diff.deletions" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.Diff.deletions</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">deletions</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="ibis.Table">Table</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Rows that were in <code>before</code> but not in <code>after</code>.</p>
<p>This has the same schema as <code>before</code>.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="mismo.Diff.from_before_after" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.Diff.from_before_after</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">from_before_after</span><span class="p">(</span>
    <span class="n">before</span><span class="p">:</span> <span class="n"><span title="ibis.Table">Table</span></span><span class="p">,</span>
    <span class="n">after</span><span class="p">:</span> <span class="n"><span title="ibis.Table">Table</span></span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">join_on</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a></span><span class="p">[</span><span class="kc">False</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="mismo._typing.Self">Self</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Create from a before and after table.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="mismo.Diff.from_deltas" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.Diff.from_deltas</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">from_deltas</span><span class="p">(</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">before</span><span class="p">:</span> <span class="n"><span title="ibis.Table">Table</span></span><span class="p">,</span>
    <span class="n">insertions</span><span class="p">:</span> <span class="n"><span title="ibis.Table">Table</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">updates</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            mismo.Updates (mismo.types._updates.Updates)" href="#mismo.Updates">Updates</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">deletions</span><span class="p">:</span> <span class="n"><span title="ibis.Table">Table</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">updates_defaults</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></span> <span class="o">=</span> <span class="n"><span title="mismo._util.NOT_SET">NOT_SET</span></span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="mismo._typing.Self">Self</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Create from a starting point and a set of transformations.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>before</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The table before the changes.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="ibis.Table">Table</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>insertions</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Rows that were in <code>after</code> but not in <code>before</code>.
If None, we assume there are no insertions.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="ibis.Table">Table</span> | None</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>updates</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Rows that were changed between <code>before</code> and <code>after</code>.
If None, we assume there are no updates.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><a class="autorefs autorefs-internal" title="            mismo.Updates (mismo.types._updates.Updates)" href="#mismo.Updates">Updates</a> | None</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>deletions</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Rows that were in <code>before</code> but not in <code>after</code>.
If None, we assume there are no deletions.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="ibis.Table">Table</span> | None</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><a class="autorefs autorefs-internal" title="            mismo.Diff (mismo.types._diff.Diff)" href="#mismo.Diff">Diff</a></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="mismo.Diff.from_parquets" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.Diff.from_parquets</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">from_parquets</span><span class="p">(</span>
    <span class="n">directory</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a></span><span class="p">,</span>
    <span class="o">/</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">backend</span><span class="p">:</span> <span class="n"><span title="ibis.BaseBackend">BaseBackend</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="mismo._typing.Self">Self</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Create a Diff by reading parquets from the given directory.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="mismo.Diff.insertions" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.Diff.insertions</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">insertions</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="ibis.Table">Table</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Rows that were in <code>after</code> but not in <code>before</code>.</p>
<p>This has the same schema as <code>after</code>.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="mismo.Diff.to_parquets" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.Diff.to_parquets</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">to_parquets</span><span class="p">(</span>
    <span class="n">directory</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" title="pathlib.Path" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">Path</a></span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">overwrite</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Write the tables in the changes to parquet files.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="mismo.Diff.unchanged" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.Diff.unchanged</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">unchanged</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="ibis.Table">Table</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Rows that were unchanged between <code>before</code> and <code>after</code>.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="mismo.Diff.updates" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.Diff.updates</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">updates</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="            mismo.Updates (mismo.types._updates.Updates)" href="#mismo.Updates">Updates</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Rows that were changed between <code>before</code> and <code>after</code>.</p>
<p><code>self.updates().before()</code> and <code>self.updates().after()</code> have the same schemas
as <code>before</code> and <code>after</code>, respectively.</p>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="mismo.DiffStats" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">mismo.DiffStats</span>


</h3>


    <div class="doc doc-contents first">


        <p>Summary statistics about a Diff, such as number of insertions, deletions, etc.</p>










  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="mismo.DiffStats.__init__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.DiffStats.__init__</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">__init__</span><span class="p">(</span><span class="n">diff</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            mismo.Diff (mismo.types._diff.Diff)" href="#mismo.Diff">Diff</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Create from a Diff.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="mismo.DiffStats.chart" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.DiffStats.chart</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">chart</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="altair.Chart">Chart</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Create a chart that shows the flow of rows through the diff.</p>
<div class="highlight"><pre><span></span><code>Rows
800,000 |                                 ▓▓  Inserted (50,000)
        |                                 ▒▒  Deleted (100,000)
700,000 |                                 ░░  Updated (200,000)
        |                                 ██  Unchanged (300,000)
600,000 |      ▒▒▒▒
        |      ▒▒▒▒             ▓▓▓▓
500,000 |      ░░░░             ░░░░
        |      ░░░░             ░░░░
400,000 |      ░░░░             ░░░░
        |      ░░░░             ░░░░
300,000 |      ████             ████
        |      ████             ████
200,000 |      ████             ████
        |      ████             ████
100,000 |      ████             ████
        |      ████             ████
      0 | Before (600,000)  After (550,000)
</code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="mismo.DiffStats.n_after" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.DiffStats.n_after</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-cached"><code>cached</code></small>
  </span>

</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">n_after</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Number of rows in <code>after</code>.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="mismo.DiffStats.n_before" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.DiffStats.n_before</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-cached"><code>cached</code></small>
  </span>

</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">n_before</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Number of rows in <code>before</code>.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="mismo.DiffStats.n_deletions" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.DiffStats.n_deletions</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-cached"><code>cached</code></small>
  </span>

</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">n_deletions</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Number of rows that were in <code>before</code> but not in <code>after</code>.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="mismo.DiffStats.n_insertions" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.DiffStats.n_insertions</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-cached"><code>cached</code></small>
  </span>

</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">n_insertions</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Number of rows that were in <code>after</code> but not in <code>before</code>.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="mismo.DiffStats.n_unchanged" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.DiffStats.n_unchanged</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-cached"><code>cached</code></small>
  </span>

</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">n_unchanged</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Number of rows that were unchanged between <code>before</code> and <code>after</code>.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="mismo.DiffStats.n_updates" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.DiffStats.n_updates</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-cached"><code>cached</code></small>
  </span>

</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">n_updates</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Number of rows that were changed between <code>before</code> and <code>after</code>.</p>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="mismo.LinkCountsTable" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">mismo.LinkCountsTable</span>


</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="mismo.types._table_wrapper.TableWrapper">TableWrapper</span></code></p>


        <p>A table representing the number of records binned by number of links.</p>
<p>eg "There were 700 records with 0 links, 300 with 1 link, 20 with 2 links, ..."</p>










  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="mismo.LinkCountsTable.n_links" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">mismo.LinkCountsTable.n_links</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">n_links</span><span class="p">:</span> <span class="n"><span title="ibis.expr.types.IntegerColumn">IntegerColumn</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>The number of links.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="mismo.LinkCountsTable.n_records" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">mismo.LinkCountsTable.n_records</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">n_records</span><span class="p">:</span> <span class="n"><span title="ibis.expr.types.IntegerColumn">IntegerColumn</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>The number of records.</p>

    </div>

</div>



<div class="doc doc-object doc-function">


<h4 id="mismo.LinkCountsTable.__init__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.LinkCountsTable.__init__</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">__init__</span><span class="p">(</span><span class="n">t</span><span class="p">:</span> <span class="n"><span title="ibis.Table">Table</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Create from an ibis table with exactly columns 'n_records' and 'n_links'.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>t</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The table with exactly columns 'n_records' and 'n_links'.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="ibis.Table">Table</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="mismo.LinkCountsTable.chart" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mismo.LinkCountsTable.chart</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">chart</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="altair.Chart">Chart</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>A bar chart of the number of records by the number of links.</p>
<div class="highlight"><pre><span></span><code>                 Number of Records
Number of          By Link Count
  Records
        |    █
100,000 | █  █
        | █  █
        | █  █  █
 10,000 | █  █  █
        | █  █  █
        | █  █  █
  1,000 | █  █  █  █
        | █  █  █  █  █  █
        | █  █  █  █  █  █  █
    100 | █  █  █  █  █  █  █  █  █
        | 0  1  2  3  4 10 12 14 23
        Number of Links
</code></pre></div>


    </div>

</div>



  </div>

    </div>

</div>







  
    
  
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="August 23, 2025 01:26:38 UTC">August 23, 2025</span>
  </span>

    
    
    
    
  </aside>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.annotate", "content.code.copy", "content.tabs.link", "header.autohide", "navigation.indexes", "navigation.instant", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.tracking", "search.highlight", "search.share", "search.suggest"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.50899def.min.js"></script>
      
    
  </body>
</html>